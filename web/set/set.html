<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<script>
let obj = {a: 1}

let tmpVal = obj.a
Object.defineProperty(obj, 'a', {
  enumerable: true,
  configurable: true,
  get: () => {
    return tmpVal // 没有启用监听，返回正常应该返回val
  },
  set: newVal => {
    tmpVal = newVal
    console.log('监听到a的值变化，值为：' + newVal)
  }
})

setInterval(() => {
  obj.a = obj.a + 1
}, 1000)


setTimeout(() => {
  let tmp = obj.a
  delete obj.a
  obj.a = tmp
  console.log(obj.a)
}, 5000)

</script>
</body>
</html>
