<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="traffic" style="width:200px;height:200px;border-radius:50%;background:black;"></div>
</body>
<script>
function wait (time) {
  return new Promise(function (resolve) {
    setTimeout(() => {
      resolve()
    }, time)
  })
}

async function changeColor (color, time) {
  document.getElementById('traffic').style.background = color
  await wait(time)
}

async function main () {
  await changeColor('green', 1000)
  await changeColor('yellow', 500)
  await changeColor('red', 800)
  return 123
}

main().then(v => {
  console.log(v)
})


</script>
</html>
